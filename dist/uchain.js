!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.uchain=r():n.uchain=r()}(this,function(){return function(n){function r(e){if(t[e])return t[e].exports;var o=t[e]={exports:{},id:e,loaded:!1};return n[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=n,r.c=t,r.p="",r(0)}([function(n,r,t){n.exports=t(1)},function(n,r,t){"use strict";n.exports={Assert:t(2),CatchError:t(7),InParallel:t(8),InSeries:t(9),Logging:t(10),ParallelFilter:t(11),ParallelForEach:t(13),ParallelMap:t(12),ParallelObjectFilter:t(14),ParallelObjectMap:t(15),PassThrough:t(16),Race:t(17),Throttle:t(18)}},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.nop,a=o.noarr,u=function(n,r){return n=n||i,r=r||"uchain assert failed",function(t){for(var o=arguments.length,u=Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];t=t||i,u=u||a;var l=n(u)?null:new Error(r+"\nargs: "+JSON.stringify(u));t.apply(void 0,[l].concat(e(u)))}};n.exports=u},function(n,r,t){(function(r){"use strict";t(5);var e=[],o=function(n){n&&console.warn("Warning: uchain ignored error\n",n)},i=function(n){return function(){var r=arguments,t=n||o;n=o,t.apply(void 0,r)}},a=r,u=function(n){return function(){var r=arguments;try{n.apply(void 0,r)}catch(n){var t=r[0]||o;t(n)}}};n.exports={nop:o,noarr:e,once:i,defer:a,catchWrapper:u}}).call(r,t(4).setImmediate)},function(n,r,t){function e(n,r){this._id=n,this._clearFn=r}var o=Function.prototype.apply;r.setTimeout=function(){return new e(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new e(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(n){n&&n.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(n,r){clearTimeout(n._idleTimeoutId),n._idleTimeout=r},r.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},r._unrefActive=r.active=function(n){clearTimeout(n._idleTimeoutId);var r=n._idleTimeout;r>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},r))},t(5),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,t){(function(n,r){!function(n,t){"use strict";function e(n){"function"!=typeof n&&(n=new Function(""+n));for(var r=new Array(arguments.length-1),t=0;t<r.length;t++)r[t]=arguments[t+1];var e={callback:n,args:r};return d[v]=e,h(v),v++}function o(n){delete d[n]}function i(n){var r=n.callback,e=n.args;switch(e.length){case 0:r();break;case 1:r(e[0]);break;case 2:r(e[0],e[1]);break;case 3:r(e[0],e[1],e[2]);break;default:r.apply(t,e)}}function a(n){if(g)setTimeout(a,0,n);else{var r=d[n];if(r){g=!0;try{i(r)}finally{o(n),g=!1}}}}function u(){h=function(n){r.nextTick(function(){a(n)})}}function c(){if(n.postMessage&&!n.importScripts){var r=!0,t=n.onmessage;return n.onmessage=function(){r=!1},n.postMessage("","*"),n.onmessage=t,r}}function l(){var r="setImmediate$"+Math.random()+"$",t=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(r)&&a(+t.data.slice(r.length))};n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t),h=function(t){n.postMessage(r+t,"*")}}function f(){var n=new MessageChannel;n.port1.onmessage=function(n){var r=n.data;a(r)},h=function(r){n.port2.postMessage(r)}}function s(){var n=y.documentElement;h=function(r){var t=y.createElement("script");t.onreadystatechange=function(){a(r),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}}function p(){h=function(n){setTimeout(a,0,n)}}if(!n.setImmediate){var h,v=1,d={},g=!1,y=n.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(n);m=m&&m.setTimeout?m:n,"[object process]"==={}.toString.call(n.process)?u():c()?l():n.MessageChannel?f():y&&"onreadystatechange"in y.createElement("script")?s():p(),m.setImmediate=e,m.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof n?this:n:self)}).call(r,function(){return this}(),t(6))},function(n,r){function t(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function o(n){if(f===setTimeout)return setTimeout(n,0);if((f===t||!f)&&setTimeout)return f=setTimeout,setTimeout(n,0);try{return f(n,0)}catch(r){try{return f.call(null,n,0)}catch(r){return f.call(this,n,0)}}}function i(n){if(s===clearTimeout)return clearTimeout(n);if((s===e||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(n);try{return s(n)}catch(r){try{return s.call(null,n)}catch(r){return s.call(this,n)}}}function a(){d&&h&&(d=!1,h.length?v=h.concat(v):g=-1,v.length&&u())}function u(){if(!d){var n=o(a);d=!0;for(var r=v.length;r;){for(h=v,v=[];++g<r;)h&&h[g].run();g=-1,r=v.length}h=null,d=!1,i(n)}}function c(n,r){this.fun=n,this.array=r}function l(){}var f,s,p=n.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:t}catch(n){f=t}try{s="function"==typeof clearTimeout?clearTimeout:e}catch(n){s=e}}();var h,v=[],d=!1,g=-1;p.nextTick=function(n){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];v.push(new c(n,r)),1!==v.length||d||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(n){return[]},p.binding=function(n){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(n){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.catchWrapper,a=o.nop,u=o.noarr,c=function(n){return n=i(n),function(r){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];r=r||a,o=o||u,n.apply(void 0,[function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return r.apply(void 0,[null].concat(e(t||u)))}].concat(e(o)))}};n.exports=c},function(n,r,t){"use strict";var e=t(3),o=e.defer,i=e.once,a=e.catchWrapper,u=e.nop,c=(e.noarr,function(n){return(n||u)()}),l=function(){var n=arguments;if(0===n.length)return c;var r=function(){for(var r=arguments,t=i(r[0]),e=Array(n.length+1),u=0,c=function(c){var l=function(r){if(r)t(r);else{for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];e[c+1]=i,u++,u===n.length&&t.apply(void 0,e)}},f=a(n[c]).bind(void 0,i(l));r[0]=f,r.length=r.length>1?r.length:1,o.apply(void 0,r)},l=0;l<n.length;l++)c(l)};return r};n.exports=l},function(n,r,t){"use strict";var e=t(3),o=e.defer,i=e.once,a=e.catchWrapper,u=e.nop,c=(e.StackError,function(n){return(n||u)()}),l=function(){var n=arguments;if(0===n.length)return c;var r=function(){var r=arguments,t=i(r[0]),e=0,u=function r(){var u=arguments;if(null!=u[0])t.apply(void 0,u);else if(e>=n.length)t.apply(void 0,u);else{var c=a(n[e++]).bind(void 0,i(r));u[0]=c,u.length=u.length||1,o.apply(void 0,u)}};r[0]=void 0,u.apply(void 0,r)};return r};n.exports=l},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.nop,a=o.noarr,u=function(n){return"string"==typeof n||n instanceof String},c=function(){var n;return(n=console).log.apply(n,arguments)},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=u(n)?{tag:n}:n,n.tag=null!=n.tag?n.tag:"",n.logger=null!=n.logger?n.logger:c,n.logArgs=null==n.logArgs||n.logArgs;var r=n,t=r.tag,o=r.logger,l=r.logArgs;return function(n){for(var r=arguments.length,u=Array(r>1?r-1:0),c=1;c<r;c++)u[c-1]=arguments[c];u=u||a,l?o.apply(void 0,[t].concat(e(u))):o(t),(n||i).apply(void 0,[null].concat(e(u)))}};n.exports=l},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.nop,a=o.noarr,u=t(9),c=t(12),l=function(n){return function(r){for(var t=arguments.length,o=Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];r=r||i,o=o||a,u(c(n),function(n){for(var r=arguments.length,t=Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];t=t||a;var u=o.filter(function(n,r){return t[r]});n.apply(void 0,[null].concat(e(u)))})(r)}};n.exports=l},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.nop,a=o.noarr,u=t(9),c=t(8),l=function(n){return function(r){for(var t=arguments.length,o=Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];r=r||i,o=o||a;var f=o.map(function(r,t){return function(e){return n(e,r,t)}});u(c.apply(void 0,e(f)),function(n){for(var r=arguments.length,t=Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];t=t||a,t=t.map(function(n){return n[0]}),n.apply(void 0,[null].concat(e(t)))})(r)}};n.exports=l},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.nop,a=o.noarr,u=t(9),c=t(8),l=function(n){return function(r){for(var t=arguments.length,o=Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];r=r||i,o=o||a;var f=o.map(function(r){return function(t){return n(t,r)}});u(c.apply(void 0,e(f)),function(n){return n()})(r)}};n.exports=l},function(n,r,t){"use strict";var e=t(3),o=e.defer,i=e.once,a=e.catchWrapper,u=function(n){return n=a(n),function(r,t){r=i(r);var e=0,a={},u=function(u){if(t.hasOwnProperty(u)){e++;var c=t[u],l=function(n,t){n?r(n):(t&&(a[u]=c),e--,0===e&&r(null,a))};o(n,i(l),u,c)}};for(var c in t)u(c);0===e&&r(null,{})}};n.exports=u},function(n,r,t){"use strict";var e=t(3),o=e.defer,i=e.once,a=e.catchWrapper,u=function(n){return n=a(n),function(r,t){r=i(r);var e=0,a={},u=function(u){if(t.hasOwnProperty(u)){e++;var c=t[u],l=function(n,t){n?r(n):(a[u]=t,e--,0===e&&r(null,a))};o(n,i(l),u,c)}};for(var c in t)u(c);0===e&&r(null,{})}};n.exports=u},function(n,r,t){"use strict";var e=t(3),o=e.nop,i=function(){var n=arguments,r=n[0]||o;n[0]=void 0,r.apply(void 0,n)};n.exports=i},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}var o=t(3),i=o.defer,a=o.once,u=o.catchWrapper,c=o.nop,l=o.noarr,f=function(){for(var n=arguments.length,r=Array(n),t=0;t<n;t++)r[t]=arguments[t];return r=r||l,0===r.length?function(n){return(n||c)()}:(r=r.map(u),function(n){for(var t=arguments.length,o=Array(t>1?t-1:0),u=1;u<t;u++)o[u-1]=arguments[u];n=a(n),o=o||l;for(var c=0;c<r.length;c++){var f=r[c];i.apply(void 0,[f,n].concat(e(o)))}})};n.exports=f},function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function o(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}var i=function(){function n(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(r,t,e){return t&&n(r.prototype,t),e&&n(r,e),r}}(),a=t(16),u=function(){function n(){return o(this,n),this._queue={},this.head=0,this.tail=0,this.churn=0,this.push=this.push.bind(this),this.pop=this.pop.bind(this),this.length=this.length.bind(this),this}return i(n,[{key:"push",value:function(n){return this._queue[this.head]=n,this.head++,this}},{key:"pop",value:function(){if(this.head>this.tail){var n=this._queue[this.tail];return this._queue[this.tail]=null,this.tail++,this.churn++,n}return null}},{key:"length",value:function(){return this.head-this.tail}}]),n}(),c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=new u,o=0,i=function i(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];var l=u[0],f=u.slice(1),s=function(){if(o--,o<r&&t.length()>0){var n=t.pop();i.apply(void 0,e(n))}l.apply(void 0,arguments)};o<r?(o++,n.apply(void 0,[s].concat(e(f)))):t.push(u)};return i};n.exports=c}])});